<form [formGroup]="userInfoForm" class="grid grid-cols-2 gap-4" (ngSubmit)="onFormSubmission()">
  <!-- Photo Input -->
  <div class="profile-uploader col-span-2">
    <label for="photo" class="profile-uploader__label">
      <img
        [src]="imagePreview || 'https://avatar.iran.liara.run/public/2'"
        alt="Profile Preview"
        class="profile-uploader__preview"
      />
    </label>
    <input
      type="file"
      id="photo"
      class="profile-uploader__input"
      (change)="onFileChange($event)"
      #fileInput
    />
    <button type="button" (click)="fileInput.click()" class="profile-uploader__button">
      Choose Photo
    </button>
    <span class="profile-uploader__error">{{ getError('photo') }}</span>
  </div>

  <div class="flex flex-col gap-2">
    <div class="form-group">
      <!-- First Name -->
      <dx-text-box
        formControlName="firstName"
        [label]="'First Name'"
        labelMode="floating"
        (onBlur)="markAsTouched('firstName')"
        stylingMode="outlined"
        [showClearButton]="true"
        hint="Enter your first name"
      >
      </dx-text-box>
      <span class="text-red-500 text-sm">{{ getError('firstName') }}</span>
    </div>

    <div class="form-group">
      <!-- Last Name -->
      <dx-text-box
        formControlName="lastName"
        [label]="'Last Name'"
        labelMode="floating"
        (onBlur)="markAsTouched('lastName')"
        stylingMode="outlined"
        [showClearButton]="true"
        hint="Enter your last name"
      >
      </dx-text-box>
      <span class="text-red-500 text-sm">{{ getError('lastName') }}</span>
    </div>

    <div class="form-group">
      <!-- Age -->
      <dx-number-box
        formControlName="age"
        [label]="'Age'"
        labelMode="floating"
        (onBlur)="markAsTouched('age')"
        stylingMode="outlined"
        [showClearButton]="true"
        hint="Enter your age"
      >
      </dx-number-box>
      <span class="text-red-500 text-sm">{{ getError('age') }}</span>
    </div>
  </div>

  <div class="flex flex-col gap-2">
    <div class="form-groug">
      <!-- Education -->
      <dx-text-box
        formControlName="education"
        [label]="'Education'"
        labelMode="floating"
        (onBlur)="markAsTouched('education')"
        stylingMode="outlined"
        [showClearButton]="true"
        hint="Enter your education"
      >
      </dx-text-box>
      <span class="text-red-500 text-sm">{{ getError('education') }}</span>
    </div>

    <div class="form-group">
      <!-- National ID -->
      <dx-number-box
        formControlName="nationalID"
        [label]="'National ID'"
        labelMode="floating"
        (onBlur)="markAsTouched('nationalID')"
        stylingMode="outlined"
        [showClearButton]="true"
        hint="Enter your national ID"
      >
      </dx-number-box>
      <span class="text-red-500 text-sm">{{ getError('nationalID') }}</span>
    </div>

    <div class="form-group">
      <!-- Birth Date -->
      <dx-date-box
        formControlName="birthdate"
        [label]="'Birth Date'"
        labelMode="floating"
        (onBlur)="markAsTouched('birthdate')"
        stylingMode="outlined"
        [showClearButton]="true"
        hint="Enter your birth date"
        [max]="maxBirthdate"
      >
      </dx-date-box>
      <span class="text-red-500 text-sm">{{ getError('birthdate') }}</span>
    </div>
  </div>

  <div class="border-t-gray col-span-2 flex items-center gap-2 justify-between">
    <dx-button
      text="Save"
      type="success"
      stylingMode="contained"
      [useSubmitBehavior]="true"
      [disabled]="!userInfoForm.valid"
    >
    </dx-button>
    <dx-button text="Cancel" type="danger" stylingMode="outlined" (onClick)="onCancel()">
    </dx-button>
  </div>
</form>
